cmake_minimum_required(VERSION 3.0.0)
project(TinyEXR.Native VERSION 0.0.1.0)

# close build tinyexr example
option(TINYEXR_BUILD_SAMPLE "Build a sample" OFF)

if(MSVC)
add_subdirectory("zlib")
endif()

add_library(TinyEXR.Native SHARED
    TinyEXR.Native.cpp)

# Because the zconf.h file was generated by cmake, we manually added it to include directory
target_include_directories(zlibstatic PUBLIC ${CMAKE_CURRENT_BINARY_DIR}/zlib)
target_link_libraries(TinyEXR.Native zlibstatic)
